---
alwaysApply: true
---

# DI Tutorial Rules (ZH) - Optimized

## 总体目标

逐步实现一个依赖注入（DI）系统，用于学习DI的整个流程。参考用户提供的代码，但允许修复问题和改进设计。使用TypeScript，确保代码简单、可运行。最终构建完整示例，包括容器、装饰器、服务和使用案例。

## 目标任务拆分

每个部分进一步拆分成小步骤（例如步骤1.1、1.2），每个步骤聚焦一个点。

- **部分1**: DI基本理论和容器基础。包括容器单例、注册和解析服务的简单实现。
- **部分2**: 生命周期管理（Singleton和Transient）。
- **部分3**: 装饰器实现（Service, Inject等）。
- **部分4**: 构造函数和属性注入。
- **部分5**: 方法注入和自定义工厂。
- **部分6**: 示例服务和完整运行测试。
- **部分7**: 潜在问题修复、优化和总结。

## 与用户的交互要求

- 全程用中文沟通。
- 每个部分先解释理论知识，确认用户理解后推进到代码实现（回复格式：'理解了部分X理论'）。
- 代码实现进一步拆分成小步骤，每步给出少量代码（用Markdown codeblock，包含行号和文件路径）。
- 每个步骤结束后，问用户是否理解，并等待确认（回复格式：'理解了步骤X.Y'）。
- 如果用户有疑问，先解答再推进。
- 保持流程有序，多轮对话中跟踪进展。如果需要暂停或调整，响应用户请求。
- 使用工具如edit_file来辅助文档更新或代码修改，但优先在响应中解释。

## 当前进展

- **当前部分**: 1
- **当前步骤**: 1.3 已理解，准备进入步骤1.4（添加服务解析功能）。
- **状态**: 正在逐步构建DI容器基础。
- **笔记**: 用户确认了步骤1.3。后续将根据反馈调整；如果用户回复‘继续步骤1.4’，则推进。

# DI Tutorial Rules (ZH) - Optimized

## 总体目标

逐步实现一个依赖注入（DI）系统，用于学习DI的整个流程。参考用户提供的代码，但允许修复问题和改进设计。使用TypeScript，确保代码简单、可运行。最终构建完整示例，包括容器、装饰器、服务和使用案例。

## 目标任务拆分

每个部分进一步拆分成小步骤（例如步骤1.1、1.2），每个步骤聚焦一个点。

- **部分1**: DI基本理论和容器基础。包括容器单例、注册和解析服务的简单实现。
- **部分2**: 生命周期管理（Singleton和Transient）。
- **部分3**: 装饰器实现（Service, Inject等）。
- **部分4**: 构造函数和属性注入。
- **部分5**: 方法注入和自定义工厂。
- **部分6**: 示例服务和完整运行测试。
- **部分7**: 潜在问题修复、优化和总结。

## 与用户的交互要求

- 全程用中文沟通。
- 每个部分先解释理论知识，确认用户理解后推进到代码实现（回复格式：'理解了部分X理论'）。
- 代码实现进一步拆分成小步骤，每步给出少量代码（用Markdown codeblock，包含行号和文件路径）。
- 每个步骤结束后，问用户是否理解，并等待确认（回复格式：'理解了步骤X.Y'）。
- 如果用户有疑问，先解答再推进。
- 保持流程有序，多轮对话中跟踪进展。如果需要暂停或调整，响应用户请求。
- 使用工具如edit_file来辅助文档更新或代码修改，但优先在响应中解释。

## 当前进展

- **当前部分**: 3
- **当前步骤**: 3.1 已理解，准备进入步骤3.2（实现@Inject属性装饰器）。
- **状态**: 正在实现装饰器部分。
- **笔记**: 用户确认了步骤3.1。后续将根据反馈调整；如果用户回复‘继续步骤3.2’，则推进。
